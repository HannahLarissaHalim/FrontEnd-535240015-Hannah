// prisma/schema.prisma

// --- konfigurasi database (ini wajib pake sqlite karena ketentuan soal)
datasource db {
  provider = "sqlite"
  // ini url koneksi database, diambil dari file .env
  // hati-hati: setting 'url' begini cuma bisa di prisma versi < 7.0.0 ya!
  url      = env("DATABASE_URL")
}

// --- konfigurasi prisma client
generator client {
  // ini buat bikin kode client typescript yang kita pakai di src/lib/prisma.ts
  provider = "prisma-client-js"
}

// --- model data utama (tabel di database)
// ini buat nyimpen profil mbti kustom yang dibikin user (sesuai ketentuan crud)
model MbtiProfile {
  // id: kunci utama, integer, auto-increment (auto-nambah sendiri)
  id        Int      @id @default(autoincrement())
  type      String   // tipe mbti (misal: "intj", "enfp")
  name      String   // nama julukan profilnya
  deskripsi String   // deskripsi panjang
  imageUrl  String   // path gambar (misal: "/intj.png" dari public/)
  
  // timestamps: penting buat fitur sorting dan update
  createdAt DateTime @default(now()) // otomatis diset saat data dibuat
  updatedAt DateTime @updatedAt // otomatis diupdate saat data diubah
}